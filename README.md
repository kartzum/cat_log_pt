# cat_log_pt

Прототип сервиса загрузки каталогов из ресурсов.

## Модель данных
Модель состоит из следующих сущностей.

* Provider (провайдер). Содержит информацию о поставщике данных.
* Catalog (каталог). Группирует часть информации, которая принадлежит провайдеру.
* CatalogScheme (схема каталога). Описывает логическое содержимое каталога.
* CatalogSchemeOperation (операция схемы каталога). Описывает минимальную логическую часть содержания каталога.
* CatalogSchemeOperationInstance (содержимое операции каталога). Конкретное состояние части каталога.
* CatalogOperationInstanceResult (результат выполнения операции каталога). Результат части каталога.


```
Provider
  1|
  n|
 Catalog
  1|   1|
   |   1|
   |   CatalogScheme
   |      1|
   |      n|
   |     CatalogSchemeOperation
   |        1|
   |        1|
   |     CatalogSchemeOperationInstance    
   |         1|
  n|         1|
 CatalogOperationInstanceResult
```

Для загрузки данных нового источника необходимо создать провайдера.
Для провайдера необходимо завести: схему и операции.
Для загрузки конкретных данных необходимо создать каталог с определённой схемой.
Необходимо выполнить все операции для каталога из схемы данных.
Для успешной загруки необходимо, что бы были созданы все элементы состояния операций.
Через операции можно получить конкретные результаты.

## Как запустить?

### Зависимости
```
pip install fastapi
pip install uvicorn
pip install playwright
```
### Запуск
Запустить main.py

### Загрузка
```
fetch('http://127.0.0.1:8000/schedule_catalog_scheme_operation/bb8c681b-fc5f-49d3-817d-7d5f50e811e0', {method: 'POST'})
```
### Результат
```
http://127.0.0.1:8000/catalog_results/
```
